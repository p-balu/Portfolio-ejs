<%- include partials/header.ejs %> <%- include partials/mainNav.ejs %>

<!--Contacts Page-->
<main
  class="container"
  style=" margin-top: 5%; margin-bottom: 2%"
>
<!--Warning or Error message-->
<% if(messages.length > 0) {%>
  <div
    class="alert alert-success alert-dismissible fade show mb-1 text-center"
    role="alert"
  >
    <strong> <%= messages %></strong>
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <% } %>
<div style="display: flex;justify-content: space-between;">
<h1 class="py-2"><%= title%></h1>
<button class="btn btn-primary" style="height: 60%;margin-top: 1.5%"> <a href="/business-contacts/add/" style="color:white;"  class="btn btn-sm"><i class="fas fa-user-plus"></i> Add Contact</a></button>
</div>
  <table class="table table-hover border" style="border-radius: 5px;" >
    <thead class="thead-light">
      <tr>
        <th scope="col">#</th>
        <th scope="col">Contact Name</th>
        <th scope="col">Contact Number</th>
        <th scope="col">Email</th>
        <th scope="col">Actions</th>

      </tr>
    </thead>
    <tbody style="background-color: white">
      <% if(ContactList.length===0) {%>
          <tr> <td colspan="5" style="text-align:center; font-weight: 500;font-size: xx-large;">No Data</td> </tr>
        <%}else {%>
      <% for (let i=0;i<ContactList.length;i++) {%>
        <% if(ContactList[i].username === username) {%>
        <tr>
        <td scope="row"><%= i+1%></td>
        <td><%= ContactList[i].contactName %></td>
        <td><%= ContactList[i].contactNumber %></td>
        <td><%= ContactList[i].email %></td>
        <td>
            <a href="/business-contacts/edit/<%= ContactList[i]._id %>" class="btn btn-sm">
            <i class="fas fa-user-edit" style="color: #007bff;">
            </i></a>
            <a href="/business-contacts/delete/<%= ContactList[i]._id %>" class="btn btn-sm">
            <i class="far fa-trash-alt" style="color: #007bff;">
            </i></a>
        </td>
      </tr>
      <%}%>
      <%}%>
      <%}%>
    </tbody>
  </table>
</main>
<%- include partials/footerNav.ejs %> %> <%- include partials/footer.ejs %>
